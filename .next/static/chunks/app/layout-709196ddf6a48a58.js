(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6348:(e,t,s)=>{Promise.resolve().then(s.bind(s,8507)),Promise.resolve().then(s.bind(s,1847)),Promise.resolve().then(s.bind(s,2460)),Promise.resolve().then(s.t.bind(s,2353,23)),Promise.resolve().then(s.t.bind(s,7275,23)),Promise.resolve().then(s.t.bind(s,9324,23))},8507:(e,t,s)=>{"use strict";s.d(t,{default:()=>E});var l=s(5155),a=s(2115),r=s(9208),n=s(8173),o=s.n(n),i=s(6046),c=s(7650),d=s(5828);let u=(0,d.createServerReference)("60e408f3d7b3022c976879efd9479e666934c34e14",d.callServer,void 0,d.findSourceMapURL,"login"),x=(0,d.createServerReference)("601afc27dd48c52bd67b9962307a618a397e3d6ce4",d.callServer,void 0,d.findSourceMapURL,"signup");var m=s(689),p=s(6624),h=s(2472),g=s(9329),b=s(6152),f=s(5548),v=s(3713);function j(e){let{mode:t}=e,{pending:s}=(0,c.useFormStatus)();return(0,l.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-black text-white font-bold text-lg py-3 rounded-full hover:bg-gray-900 transition-colors disabled:opacity-50 mt-6 uppercase tracking-wider",children:s?"Processing...":"signin"===t?"Sign In":"Sign Up"})}function y(e){let{isOpen:t,onClose:s}=e,[r,n]=(0,a.useState)("signin"),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)("");if((0,a.useEffect)(()=>{if(w&&S.length>=4){let e=S.replace(/\D/g,"").slice(-4);4===e.length?E((w.charAt(0)+e).toUpperCase()):E("")}else E("")},[w,S]),(0,a.useEffect)(()=>{let e=localStorage.getItem("last_login_identifier")||localStorage.getItem("last_login_email"),t=localStorage.getItem("last_login_password");e&&d(e),t&&N(t)},[]),!t)return null;async function I(e){i(null);let t="signin"===r?u:x;try{let l=await t(null,e);(null==l?void 0:l.error)?i(l.error):(null==l?void 0:l.success)&&(s(),window.location.reload())}catch(e){i("An unexpected error occurred")}}return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,l.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200 relative",children:[(0,l.jsx)("button",{onClick:s,"aria-label":"Close modal",className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:(0,l.jsx)(m.A,{size:24})}),(0,l.jsxs)("div",{className:"p-8 flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"signin"===r?"Sign In":"Sign Up"}),"signin"===r&&(0,l.jsxs)("p",{className:"text-red-500 font-semibold mb-6 text-center",children:["For testing just select: ",(0,l.jsx)("br",{})," Sign in"]}),(0,l.jsx)("div",{className:"mb-8 text-[#d4af37]",children:(0,l.jsx)(p.A,{size:64,strokeWidth:2.5})}),(0,l.jsxs)("div",{className:"w-full text-left mb-6",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:"signin"===r?"Welcome Back":(0,l.jsxs)("span",{children:["GET STARTED ",(0,l.jsx)("span",{className:"text-[#1a4d2e] ml-2",children:A?"ID: ".concat(A):""})]})}),(0,l.jsx)("p",{className:"text-gray-500",children:"signin"===r?"Sign in to your health dashboard":"Join Chu Precision Health Center"})]}),(0,l.jsxs)("form",{action:I,className:"w-full space-y-4",children:["signup"===r&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"First Name"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"firstName",type:"text",placeholder:"John",value:w,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Last Name"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"lastName",type:"text",placeholder:"Doe",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Phone Number"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(g.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"phone",type:"tel",placeholder:"(555) 555-5555",value:S,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Password / PIN"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(b.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"password",type:"password",placeholder:"••••••••",value:y,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Email Address"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"email",type:"email",placeholder:"john@example.com",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"preferredTeeBox",className:"text-sm font-medium text-gray-600 block",children:"Preferred Tee Box"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(v.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsxs)("select",{id:"preferredTeeBox",name:"preferredTeeBox",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all appearance-none",children:[(0,l.jsx)("option",{value:"",children:"Select a tee box"}),(0,l.jsx)("option",{value:"Black",children:"Black"}),(0,l.jsx)("option",{value:"Blue",children:"Blue"}),(0,l.jsx)("option",{value:"White",children:"White"}),(0,l.jsx)("option",{value:"Gold",children:"Gold"}),(0,l.jsx)("option",{value:"Green",children:"Green"}),(0,l.jsx)("option",{value:"Red",children:"Red"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{htmlFor:"handicapIndex",className:"text-sm font-medium text-gray-600 block",children:"Handicap Index"}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("input",{id:"handicapIndex",name:"handicapIndex",type:"number",step:"0.1",placeholder:"e.g. 15.4",className:"w-full pl-4 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all"})}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1 italic",children:"If don't know index, handicap will be calculated after 5 rounds."})]})]}),"signin"===r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Email or Player ID"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"identifier",type:"text",value:c,onChange:e=>{d(e.target.value),localStorage.setItem("last_login_identifier",e.target.value)},autoFocus:!c,placeholder:"Email or Player ID",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Password"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(b.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,l.jsx)("input",{name:"password",type:"password",value:y,onChange:e=>{N(e.target.value),localStorage.setItem("last_login_password",e.target.value)},placeholder:"••••••••",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]})]}),o&&(0,l.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm font-medium text-center",children:o}),(0,l.jsx)(j,{mode:r})]}),"signin"===r&&(0,l.jsx)("button",{className:"mt-4 text-[#1a4d2e] font-bold text-lg hover:underline",children:"FORGOT PASSWORD?"}),(0,l.jsxs)("div",{className:"mt-6 text-gray-500",children:["signin"===r?"Don't have an account? ":"Already have an account? ",(0,l.jsx)("button",{onClick:()=>{n("signin"===r?"signup":"signin"),i(null)},className:"text-[#1a4d2e] font-bold hover:underline",children:"signin"===r?"Sign Up":"Sign In"})]})]})]})})}let N=(0,d.createServerReference)("402b4883b66d54b97b0d48f5c091d8b96dc92428da",d.callServer,void 0,d.findSourceMapURL,"verifyAdminPassword"),w=(0,d.createServerReference)("00d3affede939c6ad34bf9d9753da361ab617ad749",d.callServer,void 0,d.findSourceMapURL,"adminLogout"),k=(0,d.createServerReference)("00f6cc2b22fc15bd8f959459304d32c4e19ecb4964",d.callServer,void 0,d.findSourceMapURL,"logout"),S=e=>{let{className:t}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,l.jsx)("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 .52-.88l7-4a1 1 0 0 1 .96 0l7 4A1 1 0 0 1 20 6v7z"}),(0,l.jsx)("path",{d:"m9 12 2 2 4-4"})]})},C=e=>{let{className:t}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,l.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,l.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,l.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]})},A=e=>{let{className:t}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,l.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,l.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,l.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})};function E(e){let{playerId:t}=e;(0,i.useRouter)();let[s,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n("true"===r.A.get("admin_session"));let e="true"===r.A.get("auth_status");p(e),!e&&(localStorage.getItem("last_login_identifier")||localStorage.getItem("last_login_email"))&&g(!0),e&&!t&&(console.log("AppHeader: Fetching playerId client-side fallback..."),fetch("/api/user/player-id").then(e=>e.json()).then(e=>{console.log("AppHeader: PlayerId response:",e),e.playerId&&f(e.playerId)}).catch(e=>console.error("Failed to fetch playerId:",e)))},[t]),(0,a.useEffect)(()=>{let e=e=>{v&&!e.target.closest(".menu-container")&&j(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[v]);let E=async e=>{e.preventDefault();let t=await N(u);t.success?(n(!0),d(!1),window.location.reload()):alert(t.error||"Incorrect password")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-black text-white p-2 flex justify-between items-center relative z-[100] mx-1 rounded-full mt-2 mb-2 shadow-xl border border-white/10",children:[(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(o(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition",children:[(0,l.jsx)("span",{role:"img","aria-label":"golf",className:"text-xl",children:"⛳"}),(0,l.jsx)("span",{className:"font-bold tracking-tight text-[18pt]",children:"GolfLS.app"})]})}),(0,l.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(t||b)&&(0,l.jsx)("span",{className:"font-bold text-[16pt] text-white/90",children:t||b})}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[!m&&(0,l.jsx)("button",{onClick:()=>g(!0),className:"bg-[#1a4d2e] hover:bg-[#143d24] text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-colors",children:"Sign In"}),s||m?(0,l.jsxs)("div",{className:"relative menu-container",children:[(0,l.jsxs)("button",{onClick:()=>j(!v),className:"flex items-center gap-1 bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-all shadow-md active:scale-95",children:[(0,l.jsx)(A,{className:"w-4 h-4"}),"Menu"]}),v&&(0,l.jsxs)("div",{className:"absolute right-0 mt-3 w-48 bg-white text-black rounded-2xl shadow-2xl overflow-hidden z-[110] border border-gray-100 animate-in fade-in zoom-in-95 duration-100",children:[(0,l.jsxs)(o(),{href:"/",onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83C\uDFE0"})," Home"]}),(0,l.jsxs)(o(),{href:"/clubs",onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83C\uDFC6"})," Clubs"]}),(0,l.jsxs)(o(),{href:"/faq",onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-xl",children:"❓"})," FAQ's"]}),(0,l.jsxs)(o(),{href:"/settings",onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-xl",children:"⚙️"})," Settings"]}),(0,l.jsxs)(o(),{href:"/photos",onClick:()=>j(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-xl",children:"\uD83D\uDCF8"})," Photos"]}),(0,l.jsxs)("button",{onClick:async()=>{j(!1),s?await w():await k(),window.location.reload()},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-red-600 font-black text-[13pt] transition-colors",children:[(0,l.jsx)(C,{className:"w-4 h-4"})," Logout"]})]})]}):(0,l.jsxs)("button",{onClick:()=>{n(!1),d(!0),x("")},className:"flex items-center gap-1 bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-colors",children:[(0,l.jsx)(S,{className:"w-4 h-4"}),"Admin"]})]})]}),(0,l.jsx)(y,{isOpen:h,onClose:()=>g(!1)}),c&&(0,l.jsx)("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white text-black p-6 rounded-2xl shadow-2xl w-full max-w-sm",children:[(0,l.jsx)("h3",{className:"font-bold text-[15pt] mb-4 text-center",children:"Admin Access"}),(0,l.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-[15pt] font-bold text-gray-700 mb-2",children:"Password"}),(0,l.jsx)("input",{type:"password",autoFocus:!0,value:u,onChange:e=>x(e.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-black focus:ring-black border p-3 text-[15pt]",placeholder:"Enter password"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,l.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-[15pt] font-bold text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-full text-[15pt] font-bold hover:bg-gray-800 transition-all shadow-md active:scale-95",children:"Submit"})]})]})]})})]})}},1847:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var l=s(2115);function a(){return(0,l.useEffect)(()=>{let e=e=>{let t;if("Enter"!==e.key)return;let s=e.target;if(!("INPUT"===s.tagName||"SELECT"===s.tagName||"TEXTAREA"===s.tagName)||"TEXTAREA"===s.tagName)return;e.preventDefault();let l=s.form,a=(t=l?Array.from(l.elements):Array.from(document.querySelectorAll('input:not([type="hidden"]):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled])'))).indexOf(s);if(a>-1)for(let e=a+1;e<t.length;e++){let s=t[e],l=s.tagName,a=s.type;if("INPUT"===l&&"hidden"!==a||"SELECT"===l||"TEXTAREA"===l){if(s.focus(),"INPUT"===l)try{s.select()}catch(e){}return}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),null}},2460:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var l=s(2115);function a(){return(0,l.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered successfully:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})},[]),null}},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[519,658,441,517,358],()=>t(6348)),_N_E=e.O()}]);