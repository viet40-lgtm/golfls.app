exports.id=540,exports.ids=[540],exports.modules={22020:(e,t,r)=>{Promise.resolve().then(r.bind(r,66510)),Promise.resolve().then(r.bind(r,33491)),Promise.resolve().then(r.bind(r,89408))},45988:(e,t,r)=>{Promise.resolve().then(r.bind(r,66106)),Promise.resolve().then(r.bind(r,59895)),Promise.resolve().then(r.bind(r,94476))},43831:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},48559:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},66106:(e,t,r)=>{"use strict";r.d(t,{default:()=>k});var s=r(45512),a=r(58009);r(25998);var n=r(28531),l=r.n(n),o=r(79334),i=r(55740),d=r(26248);let c=(0,d.createServerReference)("60e408f3d7b3022c976879efd9479e666934c34e14",d.callServer,void 0,d.findSourceMapURL,"login"),u=(0,d.createServerReference)("601afc27dd48c52bd67b9962307a618a397e3d6ce4",d.callServer,void 0,d.findSourceMapURL,"signup");var p=r(51255),m=r(93310),x=r(42092),h=r(89995),g=r(67456),f=r(9472),b=r(53065);function v({mode:e}){let{pending:t}=(0,i.useFormStatus)();return(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-black text-white font-bold text-lg py-3 rounded-full hover:bg-gray-900 transition-colors disabled:opacity-50 mt-6 uppercase tracking-wider",children:t?"Processing...":"signin"===e?"Sign In":"Sign Up"})}function y({isOpen:e,onClose:t}){let[r,n]=(0,a.useState)("signin"),[l,o]=(0,a.useState)(null),[i,d]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[I,S]=(0,a.useState)(""),[A,k]=(0,a.useState)("");if(!e)return null;async function C(e){o(null);let s="signin"===r?c:u;try{let r=await s(null,e);r?.error?o(r.error):r?.success&&(t(),window.location.reload())}catch(e){o("An unexpected error occurred")}}return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200 relative",children:[(0,s.jsx)("button",{onClick:t,"aria-label":"Close modal",className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:(0,s.jsx)(p.A,{size:24})}),(0,s.jsxs)("div",{className:"p-8 flex flex-col items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"signin"===r?"Sign In":"Sign Up"}),"signin"===r&&(0,s.jsxs)("p",{className:"text-red-500 font-semibold mb-6 text-center",children:["For testing just select: ",(0,s.jsx)("br",{})," Sign in"]}),(0,s.jsx)("div",{className:"mb-8 text-[#d4af37]",children:(0,s.jsx)(m.A,{size:64,strokeWidth:2.5})}),(0,s.jsxs)("div",{className:"w-full text-left mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:"signin"===r?"Welcome Back":(0,s.jsxs)("span",{children:["GET STARTED ",(0,s.jsx)("span",{className:"text-[#1a4d2e] ml-2",children:A?`ID: ${A}`:""})]})}),(0,s.jsx)("p",{className:"text-gray-500",children:"signin"===r?"Sign in to your health dashboard":"Join Chu Precision Health Center"})]}),(0,s.jsxs)("form",{action:C,className:"w-full space-y-4",children:["signup"===r&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"First Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"firstName",type:"text",placeholder:"John",value:j,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Last Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"lastName",type:"text",placeholder:"Doe",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Phone Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"phone",type:"tel",placeholder:"(555) 555-5555",value:I,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Password / PIN"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"password",type:"password",placeholder:"••••••••",value:y,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"email",type:"email",placeholder:"john@example.com",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{htmlFor:"preferredTeeBox",className:"text-sm font-medium text-gray-600 block",children:"Preferred Tee Box"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(b.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsxs)("select",{id:"preferredTeeBox",name:"preferredTeeBox",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all appearance-none",children:[(0,s.jsx)("option",{value:"",children:"Select a tee box"}),(0,s.jsx)("option",{value:"Black",children:"Black"}),(0,s.jsx)("option",{value:"Blue",children:"Blue"}),(0,s.jsx)("option",{value:"White",children:"White"}),(0,s.jsx)("option",{value:"Gold",children:"Gold"}),(0,s.jsx)("option",{value:"Green",children:"Green"}),(0,s.jsx)("option",{value:"Red",children:"Red"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{htmlFor:"handicapIndex",className:"text-sm font-medium text-gray-600 block",children:"Handicap Index"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{id:"handicapIndex",name:"handicapIndex",type:"number",step:"0.1",placeholder:"e.g. 15.4",className:"w-full pl-4 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all"})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1 italic",children:"If don't know index, handicap will be calculated after 5 rounds."})]})]}),"signin"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Email or Player ID"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"identifier",type:"text",value:i,onChange:e=>{d(e.target.value),localStorage.setItem("last_login_identifier",e.target.value)},autoFocus:!i,placeholder:"Email or Player ID",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-600 block",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{name:"password",type:"password",value:y,onChange:e=>{w(e.target.value),localStorage.setItem("last_login_password",e.target.value)},placeholder:"••••••••",className:"w-full pl-10 pr-4 py-3 bg-blue-50/50 border border-blue-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4d2e]/20 focus:border-[#1a4d2e] transition-all",required:!0})]})]})]}),l&&(0,s.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm font-medium text-center",children:l}),(0,s.jsx)(v,{mode:r})]}),"signin"===r&&(0,s.jsx)("button",{className:"mt-4 text-[#1a4d2e] font-bold text-lg hover:underline",children:"FORGOT PASSWORD?"}),(0,s.jsxs)("div",{className:"mt-6 text-gray-500",children:["signin"===r?"Don't have an account? ":"Already have an account? ",(0,s.jsx)("button",{onClick:()=>{n("signin"===r?"signup":"signin"),o(null)},className:"text-[#1a4d2e] font-bold hover:underline",children:"signin"===r?"Sign Up":"Sign In"})]})]})]})})}let w=(0,d.createServerReference)("402b4883b66d54b97b0d48f5c091d8b96dc92428da",d.callServer,void 0,d.findSourceMapURL,"verifyAdminPassword"),j=(0,d.createServerReference)("00d3affede939c6ad34bf9d9753da361ab617ad749",d.callServer,void 0,d.findSourceMapURL,"adminLogout"),N=(0,d.createServerReference)("00f6cc2b22fc15bd8f959459304d32c4e19ecb4964",d.callServer,void 0,d.findSourceMapURL,"logout"),I=({className:e})=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[(0,s.jsx)("path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 .52-.88l7-4a1 1 0 0 1 .96 0l7 4A1 1 0 0 1 20 6v7z"}),(0,s.jsx)("path",{d:"m9 12 2 2 4-4"})]}),S=({className:e})=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[(0,s.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,s.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,s.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),A=({className:e})=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[(0,s.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,s.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,s.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]});function k({playerId:e}){(0,o.useRouter)();let[t,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1),v=async e=>{e.preventDefault();let t=await w(d);t.success?(r(!0),i(!1),window.location.reload()):alert(t.error||"Incorrect password")};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-black text-white p-2 flex justify-between items-center relative z-[100] mx-1 rounded-full mt-2 mb-2 shadow-xl border border-white/10",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(l(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition",children:[(0,s.jsx)("span",{role:"img","aria-label":"golf",className:"text-xl",children:"⛳"}),(0,s.jsx)("span",{className:"font-bold tracking-tight text-[18pt]",children:"GolfLS.app"})]})}),(0,s.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(e||h)&&(0,s.jsx)("span",{className:"font-bold text-[16pt] text-white/90",children:e||h})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[!u&&(0,s.jsx)("button",{onClick:()=>x(!0),className:"bg-[#1a4d2e] hover:bg-[#143d24] text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-colors",children:"Sign In"}),t||u?(0,s.jsxs)("div",{className:"relative menu-container",children:[(0,s.jsxs)("button",{onClick:()=>b(!f),className:"flex items-center gap-1 bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-all shadow-md active:scale-95",children:[(0,s.jsx)(A,{className:"w-4 h-4"}),"Menu"]}),f&&(0,s.jsxs)("div",{className:"absolute right-0 mt-3 w-48 bg-white text-black rounded-2xl shadow-2xl overflow-hidden z-[110] border border-gray-100 animate-in fade-in zoom-in-95 duration-100",children:[(0,s.jsxs)(l(),{href:"/",onClick:()=>b(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDFE0"})," Home"]}),(0,s.jsxs)(l(),{href:"/clubs",onClick:()=>b(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83C\uDFC6"})," Clubs"]}),(0,s.jsxs)(l(),{href:"/faq",onClick:()=>b(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"❓"})," FAQ's"]}),(0,s.jsxs)(l(),{href:"/settings",onClick:()=>b(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"⚙️"})," Settings"]}),(0,s.jsxs)(l(),{href:"/photos",onClick:()=>b(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-100 font-bold text-[13pt] border-b border-gray-50 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl",children:"\uD83D\uDCF8"})," Photos"]}),(0,s.jsxs)("button",{onClick:async()=>{b(!1),t?await j():await N(),window.location.reload()},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-red-600 font-black text-[13pt] transition-colors",children:[(0,s.jsx)(S,{className:"w-4 h-4"})," Logout"]})]})]}):(0,s.jsxs)("button",{onClick:()=>{r(!1),i(!0),c("")},className:"flex items-center gap-1 bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-2 rounded-full text-[14pt] font-bold transition-colors",children:[(0,s.jsx)(I,{className:"w-4 h-4"}),"Admin"]})]})]}),(0,s.jsx)(y,{isOpen:m,onClose:()=>x(!1)}),n&&(0,s.jsx)("div",{className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white text-black p-6 rounded-2xl shadow-2xl w-full max-w-sm",children:[(0,s.jsx)("h3",{className:"font-bold text-[15pt] mb-4 text-center",children:"Admin Access"}),(0,s.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[15pt] font-bold text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",autoFocus:!0,value:d,onChange:e=>c(e.target.value),className:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-black focus:ring-black border p-3 text-[15pt]",placeholder:"Enter password"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-[15pt] font-bold text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-full text-[15pt] font-bold hover:bg-gray-800 transition-all shadow-md active:scale-95",children:"Submit"})]})]})]})})]})}},59895:(e,t,r)=>{"use strict";function s(){return null}r.d(t,{default:()=>s}),r(58009)},94476:(e,t,r)=>{"use strict";function s(){return null}r.d(t,{default:()=>s}),r(58009)},93662:(e,t,r)=>{"use strict";r.d(t,{$5:()=>x,BD:()=>p,g8:()=>c,iD:()=>u,ri:()=>h,uF:()=>f,wu:()=>g,xw:()=>m});var s=r(21590);r(70376);var a=r(40492),n=r(42385),l=r(10267),o=r(99184),i=r(47735),d=r(61769);async function c(){return console.log("SERVER PING RECEIVED"),{success:!0,message:"pong",time:new Date().toISOString()}}async function u(e,t){try{if(console.log("Login Action Started"),!process.env.DATABASE_URL)return console.error("DATABASE_URL is missing"),{error:"System Config Error: DATABASE_URL is missing in Vercel environment variables."};let e=t.get("identifier")||t.get("email"),r=t.get("password");if(!e||!r)return{error:"Email/Player ID and password are required",email:e};console.log("Attempting to find user by identifier:",e);try{await a.z.$connect()}catch(e){return console.error("Failed to connect to database:",e),{error:"Database Connection Error: "+(e instanceof Error?e.message:String(e))}}let s=await a.z.player.findFirst({where:{OR:[{email:{equals:e,mode:"insensitive"}},{playerId:{equals:e,mode:"insensitive"}}]}});if(!s||!s.password)return console.log("User not found or password missing."),{error:"Invalid credentials",email:e};if(console.log("User found, verifying password..."),!await l.Ay.compare(r,s.password))return console.log("Invalid password."),{error:"Invalid credentials",email:e};console.log("Password valid, setting session...");let o=await (0,n.UL)();return o.set("session_userId",s.id,{httpOnly:!0,secure:!0,maxAge:604800,path:"/"}),o.set("auth_status","true",{httpOnly:!1,secure:!0,maxAge:604800,path:"/"}),{success:!0}}catch(e){return console.error("CRITICAL LOGIN ERROR:",e),{error:"Unexpected Login Error: "+(e instanceof Error?e.message:String(e))}}}async function p(e,t){let r=new d.u(process.env.RESEND_API_KEY),s=t.get("email");if(!s)return{error:"Email is required"};try{let e=await a.z.player.findFirst({where:{email:s.trim()}});if(e){let t=crypto.randomUUID(),n=new Date(Date.now()+36e5);await a.z.player.update({where:{id:e.id},data:{resetToken:t,resetTokenExpiry:n}});let l=`https://golfls.app/reset-password?token=${t}`;console.log("-------------------------------------------"),console.log("Generated reset link:",l),console.log("-------------------------------------------"),await r.emails.send({from:"onboarding@resend.dev",to:s,subject:"Reset Your GolfLS.app Password",html:`
                    <p>Hello ${e.name},</p>
                    <p>You requested a password reset. Click the link below to set a new password:</p>
                    <p><a href="${l}">Reset Password</a></p>
                    <p>This link will expire in 1 hour.</p>
                    <p>If you didn't request this, you can ignore this email.</p>
                `})}return{success:!0,message:"If an account exists with this email, a reset link has been sent."}}catch(e){return console.error("Forgot password error:",e),{error:"Forgot Password Error: "+(e instanceof Error?e.message:String(e))}}}async function m(e,t){let r=t.get("password"),s=t.get("confirmPassword");if(!r||r!==s)return{error:"Passwords do not match or are empty"};try{let t=await a.z.player.findFirst({where:{resetToken:e,resetTokenExpiry:{gt:new Date}}});if(!t)return{error:"Invalid or expired reset token"};let s=await l.Ay.hash(r,10);return await a.z.player.update({where:{id:t.id},data:{password:s,resetToken:null,resetTokenExpiry:null}}),{success:!0}}catch(e){return console.error("Reset password error:",e),{error:"Reset Password Error: "+(e instanceof Error?e.message:String(e))}}}async function x(e,t){let r=t.get("firstName"),s=t.get("lastName"),o=t.get("phone"),i=t.get("password"),d=t.get("email"),c=t.get("birthday"),u=t.get("dateStarted"),p=t.get("preferredTeeBox"),m=t.get("handicapIndex");if(!r||!s||!d||!i)return{error:"Name, email, and password are required"};if(i.length<4)return{error:"Password must be at least 4 characters long"};let x=`${r} ${s}`.trim();if(await a.z.player.findFirst({where:{email:{equals:d,mode:"insensitive"}}}))return{error:"Player with this email already exists"};let h=await l.Ay.hash(i,10);try{let e=await a.z.player.create({data:{playerId:r&&o?(r.charAt(0)+o.replace(/\D/g,"").slice(-4)).toUpperCase():null,name:x,email:d,phone:o||null,password:h,birthday:c||null,dateStarted:u||null,preferredTeeBox:p||null,handicapIndex:m?parseFloat(m):0}}),t=await (0,n.UL)();return t.set("session_userId",e.id,{httpOnly:!0,secure:!0,maxAge:604800,path:"/"}),t.set("auth_status","true",{httpOnly:!1,secure:!0,maxAge:604800,path:"/"}),{success:!0}}catch(e){return console.error(e),{error:"Signup Error: "+(e instanceof Error?e.message:String(e))}}}async function h(){let e=await (0,n.UL)();e.delete("session_userId"),e.delete("auth_status"),e.delete("admin_session"),(0,o.redirect)("/")}async function g(){(await (0,n.UL)()).delete("admin_session"),(0,i.revalidatePath)("/settings")}async function f(e){return"Viet65+$"===e?((await (0,n.UL)()).set("admin_session","true",{httpOnly:!1,secure:!0,maxAge:604800,path:"/"}),(0,i.revalidatePath)("/settings"),{success:!0}):{success:!1,error:"Incorrect password"}}(0,r(99344).D)([c,u,p,m,x,h,g,f]),(0,s.A)(c,"00b4baad4e5e7d1cf69046f6a16a6184cfa0818c2d",null),(0,s.A)(u,"60e408f3d7b3022c976879efd9479e666934c34e14",null),(0,s.A)(p,"601f4fde4fbd6e1b5ac3501b8e5a7108bc935a03c5",null),(0,s.A)(m,"60b34d8116e76596f662ffa7e2f68afdd7f04f06e0",null),(0,s.A)(x,"601afc27dd48c52bd67b9962307a618a397e3d6ce4",null),(0,s.A)(h,"00f6cc2b22fc15bd8f959459304d32c4e19ecb4964",null),(0,s.A)(g,"00d3affede939c6ad34bf9d9753da361ab617ad749",null),(0,s.A)(f,"402b4883b66d54b97b0d48f5c091d8b96dc92428da",null)},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>m});var s=r(62740),a=r(260),n=r.n(a),l=r(73298),o=r.n(l),i=r(44512);r(82704);var d=r(66510),c=r(33491),u=r(89408),p=r(45369);let m={title:"GolfLS.app",description:"Live score tracking and handicap management for real-time golf rounds."};async function x({children:e}){let t=await (0,i.UL)(),r=t.get("auth_status")?.value==="true"&&!!t.get("session_userId")?.value,a=null;if(r)try{let e=await (0,p.H)();e?.playerId&&(a=e.playerId)}catch(e){console.error("Error fetching playerId in layout:",e)}return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"/icon-512.png"}),(0,s.jsx)("meta",{name:"theme-color",content:"#000000"}),(0,s.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}),(0,s.jsx)("meta",{name:"apple-mobile-web-app-title",content:"GolfLS"})]}),(0,s.jsxs)("body",{className:`${n().variable} ${o().variable} antialiased`,suppressHydrationWarning:!0,children:[(0,s.jsx)(u.default,{}),r&&(0,s.jsx)(d.default,{playerId:a}),(0,s.jsx)(c.default,{}),e]})]})}},66510:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\viet4\\\\antigravity\\\\g-golfls-app\\\\components\\\\AppHeader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\viet4\\antigravity\\g-golfls-app\\components\\AppHeader.tsx","default")},33491:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\viet4\\\\antigravity\\\\g-golfls-app\\\\components\\\\GlobalEnterNavigation.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\viet4\\antigravity\\g-golfls-app\\components\\GlobalEnterNavigation.tsx","default")},89408:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\viet4\\\\antigravity\\\\g-golfls-app\\\\components\\\\ServiceWorkerRegistration.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\viet4\\antigravity\\g-golfls-app\\components\\ServiceWorkerRegistration.tsx","default")},45369:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var s=r(44512),a=r(11587);async function n(){try{let e=await (0,s.UL)(),t=e.get("session_userId")?.value;if(!t)return null;let r=await a.z.player.findUnique({where:{id:t},select:{id:!0,email:!0,name:!0,playerId:!0}});if(!r)return null;return{id:r.id,email:r.email,name:r.name,playerId:r.playerId}}catch(e){return console.error("getSession error:",e),null}}},40492:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(96330);let a=globalThis.prismaGlobal??(()=>{console.log("PRISMA INIT: Initializing Client..."),console.log("PRISMA INIT: Env Check -> NODE_ENV:","production"),console.log("PRISMA INIT: Env Check -> DATABASE_URL:",process.env.DATABASE_URL?"DEFINED (Length: "+process.env.DATABASE_URL.length+")":"UNDEFINED");try{return new s.PrismaClient({log:["query","info","warn","error"]})}catch(e){return console.error("PRISMA INIT: CRITICAL FAILURE during new PrismaClient()",e),new Proxy({},{get:function(t,r){throw Error(`Prisma Client Failed to Initialize: ${e instanceof Error?e.message:String(e)}`)}})}})()},11587:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(96330);let a=globalThis.prismaGlobal??(()=>{console.log("PRISMA INIT: Initializing Client..."),console.log("PRISMA INIT: Env Check -> NODE_ENV:","production"),console.log("PRISMA INIT: Env Check -> DATABASE_URL:",process.env.DATABASE_URL?"DEFINED (Length: "+process.env.DATABASE_URL.length+")":"UNDEFINED");try{return new s.PrismaClient({log:["query","info","warn","error"]})}catch(e){return console.error("PRISMA INIT: CRITICAL FAILURE during new PrismaClient()",e),new Proxy({},{get:function(t,r){throw Error(`Prisma Client Failed to Initialize: ${e instanceof Error?e.message:String(e)}`)}})}})()},82704:()=>{}};